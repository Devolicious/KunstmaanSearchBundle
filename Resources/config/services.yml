parameters:
    kunstmaan_search.hostname: "localhost"
    kunstmaan_search.port: 9200
    kunstmaan_search.searchprovider: "Elastica"
    kunstmaan_search.searchconfiguration_chain.class: Kunstmaan\SearchBundle\Configuration\SearchConfigurationChain
    kunstmaan_search.searchprovider_chain.class: Kunstmaan\SearchBundle\Provider\SearchProviderChain

services:

    kunstmaan_search.search:
        arguments: ["@kunstmaan_search.searchprovider_chain", %searchindexprefix%, "%kunstmaan_search.searchprovider%"]
        class: Kunstmaan\SearchBundle\Search\Search

    kunstmaan_search.search.factory.analysis:
        class: Kunstmaan\SearchBundle\Search\AnalysisFactory
        calls:
            - [ setStopwords, ['nl', %stopwords_nl%] ]

    # Providers

    Kunstmaan_search.searchprovider_chain:
        class: "%kunstmaan_search.searchprovider_chain.class%"

    kunstmaan_search.searchprovider.elastica:
        class: Kunstmaan\SearchBundle\Provider\ElasticaProvider
        calls:
            - [ addNode, [%kunstmaan_search.hostname%, %kunstmaan_search.port%] ]
        tags:
            - { name: kunstmaan_search.searchprovider, alias: Elastica}

    #Configurations

    Kunstmaan_search.searchconfiguration_chain:
        class: "%kunstmaan_search.searchconfiguration_chain.class%"
